% !TeX root = ../new.tex


\begin{theorem}\label{thm:separate_iso}
  Suppose $B\subseteq B'\subseteq B''$ all surround $D$ in $X$ and $A\subseteq D$ such that $B''\subset A$.
  Suppose $S$ and $S'$ surround $L$ in $D$ such that $B\subseteq \ext{S} \subseteq B'\subseteq \ext{S'}\subseteq B''$.
  % \begin{enumerate}
  %   \item $D\setminus B'\subseteq L$,
  %   \item $B\cap L \subseteq S\subseteq B'$, and
  %   \item $B'\cap L\subseteq S'\subseteq B''$.
  % \end{enumerate}
  Let $\eta^k : \hom_k(B)\to \hom_k(B'')$ be induced by inclusion.

  If $\eta^k$ is surjective and $\im~\eta^k\cong \hom_k(B')$ then
  \[\im~\hom_k((L\cap A, S)\to (L\cap A, S'))\cong \hom_k(A, B')\]
  for all $k$.\footnote{In dimension $0$ the last two columns of the Diagram~\ref{dgm:separate_iso} are zero.}
\end{theorem}
\begin{proof}
  Consider the following commutative diagrams of long exact sequences of pairs $(A, B)$, $(A, B')$ and $(A, B'')$.
  \begin{equation}\begin{tikzcd}\label{dgm:separate_iso}
    \hom_k(B)\arrow{r}{i}\arrow{d}{a} &
    \hom_k(A)\arrow{r}{j}\arrow{d}{b} &
    \hom_k(A, B)\arrow{r}{k}\arrow{d}{c} &
    \hom_{k-1}(B)\arrow{r}{\ell}\arrow{d}{d} &
    \hom_{k-1}(A)\arrow{d}{e} &\\
    %
    \hom_k(B')\arrow{r}{i'}\arrow{d}{a'} &
    \hom_k(A)\arrow{r}{j'}\arrow{d}{b'} &
    \hom_k(A, B')\arrow{r}{k'}\arrow{d}{c'} &
    \hom_{k-1}(B')\arrow{r}{\ell'}\arrow{d}{d'} &
    \hom_{k-1}(A)\arrow{d}{e'} \\
    %
    \hom_k(B'')\arrow{r}{i''}&
    \hom_k(A)\arrow{r}{j''}&
    \hom_k(A, B'')\arrow{r}{k''}&
    \hom_{k-1}(B'')\arrow{r}{\ell''} &
    \hom_{k-1}(A)
  \end{tikzcd}\end{equation}
  where vertical maps are induced by inclusion.

  If $\im~\eta^k\cong\hom_k(B')$ for all $k$ then, because $\eta^k = a'\circ a$ and $\eta^{k-1} = d'\circ d$, $a, d$ must be surjective and $a', d'$ must be injective.
  Moreover, if $\eta^k$ is surjective then $d'$ is surjective, and therefore an isomorphism.
  As $b,b',e$ and $e'$ are the identity map they are bijective, therefore $c$ must be surjective and $c'$ must be bijective by Lemma~\ref{lem:five}, thus $\im~c'\circ c\cong \hom_k(A, B')$.

  Because $S$ and $S'$ surround $L$ in $D$, $\hom_k(L\cap A, S)\cong \hom_k(A, \ext{S})$ and $\hom_k(L\cap A, S')\cong \hom_k(A, \ext{S'})$ for all $k$ by Lemma~\ref{lem:excision}.
  % Moreover, because $D\setminus B\subseteq L$,
  % \[ \ext{S} = S\sqcup (D\setminus L) \subseteq S\cup (D\setminus (D\setminus B')) = S\cup B'
  We have the following sequence of homomorphisms induced by inclusion of pairs
  \[ \hom_k(A, B)\xrightarrow{m}\hom_k(A, \ext{S})\xrightarrow{n}\hom_k(A, B')\xrightarrow{p}\hom_k(A, \ext{S'})\xrightarrow{q}\hom_k(A, B'').\]
  As $q\circ p\circ n\circ m = c' \circ c$ and $\im~c'\circ c\cong \hom_k(A, B')$, $\im~n\circ p\cong \hom_k(A, B')$ by Lemma~\ref{lem:sandwich}.
  The result follows from Lemma~\ref{lem:excision} as $\im~n\circ p\cong \im~\hom_k((L\cap A, S)\to (L\cap A, S'))$.

\end{proof}

\clearpage

In the following let $X$ be a topological space and $\overline{A} := X\setminus U$ denote the complement of a subset $U$ of $X$.

\begin{lemma}\label{lem:coverage}
  Let $(D, B)$ be a surrounding pair in $X$ and $L\subseteq D$, $S\subseteq L\cap B$ be subsets so that $\ell: \hom_0(\overline{B}, \overline{D})\to \hom_0(\overline{S}, \overline{L})$ is induced by inclusion.

  If $\ell$ is injective then $D\setminus B\subseteq L$.
\end{lemma}
\begin{proof}
    Suppose, for the sake of contradiction, that $p$ is injective and there exists a point $x\in (D\setminus B)\setminus L$.
    Because $B$ surrounds $D$ in $X$ the pair $(D\setminus B, \overline{D})$ forms a separation of $\overline{B}$.
    Therefore, $\hom_0(\overline{B})\cong \hom_0(D\setminus B)\oplus \hom_0(\overline{D})$ so
    \[ \hom_0(\overline{B}, \overline{D})\cong \hom_0(D\setminus B). \]
    So $[x]$ is non-trivial in $\hom_0(\overline{B},\overline{D})\cong \hom_0(D\setminus B)$ as $x$ is in some connected component of $D\setminus B$.
    So we have the following sequence of maps induced by inclusions
    \[ \hom_0(\overline{B},\overline{D})\xrightarrow{f} \hom_0(\overline{B},\overline{D}\cup\{x\})\xrightarrow{g} \hom_0(\overline{S},\overline{L}).\]
    As $f[x]$ is trivial in $\hom_0(\overline{B},\overline{D}\cup\{x\})$ we have that $\ell[x] = (g\circ f)[x]$ is trivial, contradicting our hypothesis that $\ell$ is injective.
\end{proof}

\begin{lemma}\label{lem:cov_surrounds}
  Let $(D, B)$ be a surrounding pair in $X$ and $L\subseteq D$, $S\subseteq L\cap B$ be subsets so that $\ell: \hom_0(\overline{B}, \overline{D})\to \hom_0(\overline{S}, \overline{L})$ is induced by inclusion.

  If $\ell$ injective then $S$ surrounds $L$ in $D$.
\end{lemma}
\begin{proof}
  Suppose, for the sake of contradiction, that $S$ does not surround $L$ in $D$.
  Then there exists a path $\gamma : [0,1]\to\overline{S}$ with $\gamma(0)\in L\setminus S$ and $\gamma(1)\in D\setminus L$.
  By Lemma~\ref{lem:coverage} we know that $D\setminus B\subseteq L$, so $D\setminus B\subseteq L\setminus S$.

  Choose $x\in D\setminus B$ and $z\in \overline{D}$ such that there exist paths $\xi : [0,1]\to L\setminus S$ with $\xi(0) = x$, $\xi(1) = \gamma(0)$ and $\zeta : [0,1]\to \overline{D}\cup (D\setminus L)$ with $\zeta(0) = z$, $\zeta(1) = \gamma(1)$.
  $\xi, \gamma$ and $\zeta$ all generate chains in $C_1(\overline{S}, \overline{L})$ and $\xi + \gamma + \zeta = \gamma^*\in C_1(\overline{S}, \overline{L})$ with $\partial\gamma^* = x + z$.
  Moreover, $z$ generates a chain in $C_0(\overline{L})$ as $\overline{D}\subseteq\overline{L}$.
  So $x = \partial\gamma^* + z$ is a relative boundary in $C_0(\overline{S}, \overline{L})$, thus $\ell[x] = \ell[z]$ in $\hom_0(\overline{S}, \overline{L})$.
  However, because $B$ surrounds $D$, $[x]\neq [y]$ in $\hom_0(\overline{B}, \overline{D})$ contradicting our assumption that $\ell$ is injective.
\end{proof}
